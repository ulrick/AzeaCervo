<!--
  Generated template for the AddAnnouncement page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<!-- https://devdactic.com/ionic-2-images/-->
<ion-header>
   <ion-navbar>
      <ion-title>{{ pageTitle }}</ion-title>
   </ion-navbar>
</ion-header>


<ion-content>

   <div>

      <div *ngIf="hideForm">
        <ion-item class="post-entry-message" text-wrap>
            <h2>Success!</h2>
            <p>Maybe you'd like to edit an existing entry or add a new record?</p>
            <p>Simply go back to the home page and select the option you want to pursue.</p>
        </ion-item>
      </div>


      <div *ngIf="!hideForm">

          <div id="photo-content">
            <ion-grid>
              <ion-row class="photo-area">

                <ion-col col-12 text-center>
                  <button class="add btn-center" ion-button item-right icon-left outline color="secondary" (click)="presentActionSheet()" [hidden]="lastImage !== null">
                    <ion-icon name="ios-camera-outline"> </ion-icon>
                    Ajouter des photos
                  </button>
                  <p item-right [hidden]="lastImage !== null"><span>Astuces :</span> 
                    Une annonce avec photo est 10 fois plus consultée qu'une annonce sans photo
                  </p>
                </ion-col>

                <ion-col *ngFor="let img of images" col-6 text-center class="column">
                  <div class="img-content">
                    <img src="{{pathForImage(img)}}" [hidden]="img === null">
                    <button class="delete btn-delete" ion-button small color="light" (click)="deletePhoto(img)" [hidden]="img === null">
                      <ion-icon name="ios-trash-outline" color="danger"> </ion-icon>
                    </button>
                  </div>
                </ion-col>

                <!--ion-col col-6 text-center class="column">
                  <div class="img-content">
                    <img class="img"  src="img/img2.jpg" [hidden]="lastImage !== null">
                    <button class="delete btn-delete" ion-button small color="light" (click)="deletePhoto(img)" [hidden]="img === null">
                      <ion-icon name="ios-trash-outline" color="danger"> </ion-icon>
                    </button>
                  </div>
                </ion-col>
                <ion-col col-6 text-center class="column">
                  <div class="img-content">
                    <img class="img"  src="img/im3.jpg" [hidden]="lastImage !== null">
                    <button class="delete btn-delete" ion-button small color="light" (click)="deletePhoto(img)" [hidden]="img === null">
                      <ion-icon name="ios-trash-outline" color="danger"> </ion-icon>
                    </button>
                  </div>
                </ion-col>-->

                <ion-col col-6 text-center>
                  <button class="add btn-right" ion-button outline color="secondary" (click)="presentActionSheet()" [hidden]="hideBtn">
                    <ion-icon name="ios-add-outline"></ion-icon>
                  </button>
                </ion-col>

              </ion-row>
            </ion-grid>
          </div>

          <div id="form-content">
            <form [formGroup]="form" (ngSubmit)="saveEntry()">

              <ion-list>

                  <ion-item-group>
                    <ion-item-divider color="light">INFORMATION SUR L'ANNONCES </ion-item-divider>
                    <ion-item>
                        <ion-input
                          type="text"
                          placeholder="Titre, ex : Téléphone Samsung S8 "
                          formControlName="title"
                          [(ngModel)]="announcement.title"></ion-input>
                    </ion-item>

                    <ion-item>
                        <ion-textarea
                          placeholder="Description..."
                          formControlName="message"
                          rows="5"
                          [(ngModel)]="announcement.message"></ion-textarea>
                    </ion-item>

                    <ion-item>
                        <ion-input
                          type="number"
                          placeholder="Prix (FCFA)"
                          formControlName="price"
                          [(ngModel)]="announcement.price"></ion-input>
                    </ion-item>

                  </ion-item-group>
                  

                  <!--ion-item-group>
                    <ion-item-divider color="light">DETAILS</ion-item-divider>
                    <ion-item>
                        <ion-input
                          type="number"
                          placeholder="prix..."
                          formControlName="price"
                          [(ngModel)]="announcementPrice"></ion-input>
                    </ion-item>
                  </ion-item-group>-->


                  <ion-item>
                    <button
                        ion-button
                        color="primary"
                        text-center
                        block
                        [disabled]="!form.valid">Save Entry</button>
                  </ion-item>

                  <ion-item *ngIf="isEdited && !hideForm">
                    <button
                        ion-button
                        item-right
                        color="secondary"
                        text-center
                        block
                        (click)="deleteEntry()">Remove this Entry?</button>
                  </ion-item>

              </ion-list>

            </form>
          </div>
      </div>
   </div>

</ion-content>
